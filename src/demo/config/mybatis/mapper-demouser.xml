<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="demo.mapper.DemoUserMapper">
	<select id="select" parameterType="DemoUserBean" resultType="DemoUserBean">
		select id, name, nickname, password, birthday, gender, headpic,
		registdate, lastlogindate, status from demo_user
		<where>
			<if test="id!=null">
				and id = #{id,jdbcType=NUMERIC}
			</if>
			<if test="name != null and name != ''">
				and name = #{name,jdbcType=VARCHAR}
			</if>
			<if test="nickname != null and nickname != ''">
				and nickname = #{nickname,jdbcType=VARCHAR}
			</if>
			<if test="password != null and password != ''">
				and password = #{password,jdbcType=VARCHAR}
			</if>
			<if test="birthday!=null">
				and birthday = #{birthday,jdbcType=TIMESTAMP}
			</if>
			<if test="gender != null and gender != ''">
				and gender = #{gender,jdbcType=VARCHAR}
			</if>
			<if test="headpic != null and headpic != ''">
				and headpic = #{headpic,jdbcType=VARCHAR}
			</if>
			<if test="registdate!=null">
				and registdate = #{registdate,jdbcType=TIMESTAMP}
			</if>
			<if test="lastlogindate!=null">
				and lastlogindate = #{lastlogindate,jdbcType=TIMESTAMP}
			</if>
			<if test="status != null and status != ''">
				and status = #{status,jdbcType=VARCHAR}
			</if>
		</where>
	</select>

	<insert id="insert" parameterType="DemoUserBean">
		insert into demo_user (id,
		name, nickname, password, birthday, gender,
		headpic, registdate,
		lastlogindate, status)
		values (#{id,jdbcType=NUMERIC},
		#{name,jdbcType=VARCHAR},
		#{nickname,jdbcType=VARCHAR},
		#{password,jdbcType=VARCHAR},
		#{birthday,jdbcType=TIMESTAMP},
		#{gender,jdbcType=VARCHAR},
		#{headpic,jdbcType=VARCHAR},
		#{registdate,jdbcType=TIMESTAMP},
		#{lastlogindate,jdbcType=TIMESTAMP},
		#{status,jdbcType=VARCHAR})
	</insert>

	<update id="update" parameterType="DemoUserBean">
		update demo_user
		<set>
			<if test="name!=null">
				name = #{name,jdbcType=VARCHAR},
			</if>
			<if test="nickname!=null">
				nickname = #{nickname,jdbcType=VARCHAR},
			</if>
			<if test="password!=null">
				password = #{password,jdbcType=VARCHAR},
			</if>
			<if test="birthday!=null">
				birthday = #{birthday,jdbcType=TIMESTAMP},
			</if>
			<if test="gender!=null">
				gender = #{gender,jdbcType=VARCHAR},
			</if>
			<if test="headpic!=null">
				headpic = #{headpic,jdbcType=VARCHAR},
			</if>
			<if test="registdate!=null">
				registdate = #{registdate,jdbcType=TIMESTAMP},
			</if>
			<if test="lastlogindate!=null">
				lastlogindate = #{lastlogindate,jdbcType=TIMESTAMP},
			</if>
			<if test="status!=null">
				status = #{status,jdbcType=VARCHAR},
			</if>
		</set>
		where id = #{id}
	</update>

</mapper>